---
emoji: ğŸ””
title: discord.js ã§ DISBOARD ã® bump é€šçŸ¥ã‚’ä½œã‚‹æ–¹æ³•
tags: ['Discord']
date: '2021-06-05'
draft: false
summary: discord.js ã§ DISBOARD ã® bump é€šçŸ¥ã‚’ä½œã‚‹æ–¹æ³•
---

ã“ã®è¨˜äº‹ã§ã¯ã€discord.js ã§ DISBOARD ([https://disboard.org](https://disboard.org)) ã® bump é€šçŸ¥ã‚’ã—ã¦ãã‚Œã‚‹æ©Ÿèƒ½ã‚’ä½œæˆã—ã¾ã™ã€‚

## å‹•ä½œã«å¿…è¦ãªã‚‚ã®

- Node.js v16 ä»¥ä¸Š
- discord.js v14
- 24æ™‚é–“365æ—¥èµ·å‹•ã—ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã§ãã‚‹ç’°å¢ƒ  
  â†’ setTimeout ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§å†èµ·å‹•ã—ãŸã‚‰é€šçŸ¥ã§ããªã„ã‹ã‚‰ã§ã™ã€‚  
  ã€€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸæ–¹æ³•ã‚‚ã¾ãŸæŠ•ç¨¿ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚

## åå¿œå¯¾è±¡ã‚’DISBOARDã®ã¿ã«

DISBOARD ä»¥å¤–ã®ä»–ã® Bot ã«åå¿œã™ã‚‹ã¨å›°ã‚‹ã®ã§ã€ID ã§åå¿œå¯¾è±¡ã‚’çµã‚Šã¾ã™ã€‚

```
client.on('messageCreate', (message) => {
  if (message.author.id === '302050872383242240') {

  }
})
```

## ãƒˆãƒªã‚¬ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒ‡å®š

`message.embeds` ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã® Embed ãŒå–å¾—ã§ãã¾ã™ã€‚

DISBOARD ã«ã»ã‹ã®è¨€èªã§é€ä¿¡ã•ã‚Œã¦ã—ã¾ã†ä¸å…·åˆãŒã‚ã‚‹ã‚ˆã†ãªã®ã§ (ä¿®æ­£æ¸ˆã¿ï¼Ÿ)ã€è¤‡æ•°ã®æ–‡å­—åˆ—ã«å¯¾å¿œã•ã›ã¦ãŠãã¾ã™ã€‚

```
client.on('messageCreate', (message) => {
  if (message.author.id === '302050872383242240') {
    if (message.embeds[0].description.match(/è¡¨ç¤ºé †ã‚’ã‚¢ãƒƒãƒ—ã—ãŸã‚ˆ/) ||
        message.embeds[0].description.match(/Bump done/) ||
        message.embeds[0].description.match(/Bump effectuÃ©/) ||
        message.embeds[0].description.match(/Bump fatto/) ||
        message.embeds[0].description.match(/Podbito serwer/) ||
        message.embeds[0].description.match(/Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ½ÑÑ‚Ğ¾/) ||
        message.embeds[0].description.match(/ê°±ì‹ í–ˆì–´/) ||
        message.embeds[0].description.match(/Patlatma tamamlandÄ±/) {

    }
  }
})
```

## **é€šçŸ¥ã™ã‚‹**

`setTimeout`ã‚’ä½¿ã†ã“ã¨ã§ã€ã€Œâ—‹â—‹ãƒŸãƒªç§’å¾Œã«å®Ÿè¡Œã™ã‚‹ã€ãŒå®Ÿç¾ã§ãã¾ã™ã€‚

```
const { EmbedBuilder } = require('discord.js')

client.on('messageCreate', (message) => {
  if (message.author.id === '302050872383242240') {
    if (message.embeds[0].description.match(/è¡¨ç¤ºé †ã‚’ã‚¢ãƒƒãƒ—ã—ãŸã‚ˆ/) ||
        message.embeds[0].description.match(/Bump done/) ||
        message.embeds[0].description.match(/Bump effectuÃ©/) ||
        message.embeds[0].description.match(/Bump fatto/) ||
        message.embeds[0].description.match(/Podbito serwer/) ||
        message.embeds[0].description.match(/Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ½ÑÑ‚Ğ¾/) ||
        message.embeds[0].description.match(/ê°±ì‹ í–ˆì–´/) ||
        message.embeds[0].description.match(/Patlatma tamamlandÄ±/) {
      message.channel.send(
        new EmbedBuilder()
          .setTitle('BumpãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸï¼')
          .setDescription('2æ™‚é–“å¾Œã«ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚')
      )

      setTimeout(() => {
        message.channel.send(
          new EmbedBuilder()
            .setTitle('Bumpã§ãã¾ã™ï¼')
            .setDescription('`/bump` ã§ã‚µãƒ¼ãƒãƒ¼ã®æ²è¼‰é †ã‚’ä¸Šã«ã§ãã¾ã™ã€‚')
        )
      }, 7200000)
    }
  }
})
```

## Bumpã«å¤±æ•—ã—ãŸéš›ã«å†åº¦å®Ÿè¡Œã‚’ä¿ƒã™

ã‚ã¨ä½•åˆ†ã§å†åº¦å®Ÿè¡Œã§ãã‚‹ã‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚

```
const { EmbedBuilder } = require('discord.js')

client.on('messageCreate', (message) => {
  if (message.author.id === '302050872383242240') {
    if (message.embeds[0].description.match(/è¡¨ç¤ºé †ã‚’ã‚¢ãƒƒãƒ—ã—ãŸã‚ˆ/) ||
        message.embeds[0].description.match(/Bump done/) ||
        message.embeds[0].description.match(/Bump effectuÃ©/) ||
        message.embeds[0].description.match(/Bump fatto/) ||
        message.embeds[0].description.match(/Podbito serwer/) ||
        message.embeds[0].description.match(/Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ½ÑÑ‚Ğ¾/) ||
        message.embeds[0].description.match(/ê°±ì‹ í–ˆì–´/) ||
        message.embeds[0].description.match(/Patlatma tamamlandÄ±/) {
      message.channel.send(
        new EmbedBuilder()
          .setTitle('BumpãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸï¼')
          .setDescription('2æ™‚é–“å¾Œã«ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚')
      )

      setTimeout(() => {
        message.channel.send(
          new EmbedBuilder()
            .setTitle('Bumpã§ãã¾ã™ï¼')
            .setDescription('`/bump` ã§ã‚µãƒ¼ãƒãƒ¼ã®æ²è¼‰é †ã‚’ä¸Šã«ã§ãã¾ã™ã€‚')
        )
      }, 7200000)
    }
  } else if (message.embeds[0].description.match(/ä¸Šã’ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã¾ã§/)) {
    const splcontent_a = message.embeds[0].description.split('ã¨')
    const splcontent_b = splcontent_a[1].split('åˆ†')
    const remaining_time = splcontent_b[0]

    message.channel.send(
      new EmbedBuilder()
        .setTitle('Bumpã«å¤±æ•—ã—ãŸã‚ˆã†ã§ã™...')
        .setDescription(`${remaining_time}åˆ†å¾Œã«å†åº¦å®Ÿè¡Œã§ãã¾ã™ã€‚`)
    )
  }
})
```

## ã‚³ãƒ¼ãƒ‰å…¨æ–‡

ã“ã®è¨˜äº‹ã§æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã®å…¨æ–‡ã§ã™ã€‚

```
const { EmbedBuilder } = require('discord.js')

client.on('messageCreate', (message) => {
  if (message.author.id === '302050872383242240') {
    if (message.embeds[0].description.match(/è¡¨ç¤ºé †ã‚’ã‚¢ãƒƒãƒ—ã—ãŸã‚ˆ/) ||
        message.embeds[0].description.match(/Bump done/) ||
        message.embeds[0].description.match(/Bump effectuÃ©/) ||
        message.embeds[0].description.match(/Bump fatto/) ||
        message.embeds[0].description.match(/Podbito serwer/) ||
        message.embeds[0].description.match(/Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ½ÑÑ‚Ğ¾/) ||
        message.embeds[0].description.match(/ê°±ì‹ í–ˆì–´/) ||
        message.embeds[0].description.match(/Patlatma tamamlandÄ±/) {
      message.channel.send(
        new EmbedBuilder()
          .setTitle('BumpãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸï¼')
          .setDescription('2æ™‚é–“å¾Œã«ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚')
      )

      setTimeout(() => {
        message.channel.send(
          new EmbedBuilder()
            .setTitle('Bumpã§ãã¾ã™ï¼')
            .setDescription('`/bump` ã§ã‚µãƒ¼ãƒãƒ¼ã®æ²è¼‰é †ã‚’ä¸Šã«ã§ãã¾ã™ã€‚')
        )
      }, 7200000)
    }
  } else if (message.embeds[0].description.match(/ä¸Šã’ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã¾ã§/)) {
    const splcontent_a = message.embeds[0].description.split('ã¨')
    const splcontent_b = splcontent_a[1].split('åˆ†')
    const remaining_time = splcontent_b[0]

    message.channel.send(
      new EmbedBuilder()
        .setTitle('Bumpã«å¤±æ•—ã—ãŸã‚ˆã†ã§ã™...')
        .setDescription(`${remaining_time}åˆ†å¾Œã«å†åº¦å®Ÿè¡Œã§ãã¾ã™ã€‚`)
    )
  }
})
```

## ãŠã‚ã‚Š

ãŠèª­ã¿ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼

ã‚¨ãƒ©ãƒ¼ã‚„ã”æŒ‡æ‘˜ç­‰ã‚ã‚Šã¾ã—ãŸã‚‰ä¸‹ã®ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚

ã‚·ã‚§ã‚¢ã‚‚ãœã²ï¼
